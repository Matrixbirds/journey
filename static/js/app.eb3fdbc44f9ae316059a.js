webpackJsonp([1,0],[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=o(17),a=r(n),s=o(14),u=r(s);window.Vue=a["default"],a["default"].use(o(16)),new a["default"]({el:"body",components:{Player:u["default"]}})},function(e,t,o){var r,n;o(8),r=o(5),n=o(12),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"audioWrap",data:function(){return{source_url:"http://o9pdl8on4.bkt.clouddn.com/%E3%83%A2%E3%82%AB-%E9%8E%96%E9%82%A3.mp3",playing:!1}},methods:{setSrc:function(e){this.source_url=e},getSrc:function(){return this.source_url}},watch:{playing:function(e){e?this.$els.audio.play():this.$els.audio.pause()}}}},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),a=r(n),s=o(15),u=r(s);t["default"]={name:"Player",components:{ProgressBar:a["default"],PlayerPanel:u["default"]},data:function(){return{messages:"Hello Player"}}}},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),a=r(n),s=o(13),u=r(s);t["default"]={name:"jouneryPlayerPanel",data:function(){return{state:!1,url:"/journey/static/song.lrc",text:null,textArray:null,tPlayerSongLrc:null}},components:{ProgressBar:a["default"],AudioWrap:u["default"]},methods:{play:function(){this.$els.audio.play()},pause:function(){this.$els.audio.pause()},timeUpdate:function(){var e=this.$els.audio.currentTime,t=e/this.$els.audio.duration*100;this.$els.bar.style.width=t.toFixed(2)+"%";var o=document.querySelector(".highlight");o&&(o.className=o.className.replace(/highlight/,""));for(var r=this.textArray,n=this.textArray.length,a=0,s=1;s<n;a++,s++)r[a].time<=parseFloat(e.toFixed(3))&&parseFloat(e.toFixed(3))<=r[s].time&&(document.querySelector("#time_"+a).className="highlight",this.tPlayerSongLrc.innerText=r[a].content)},textToArray:function(){return this.textArray||(this.textArray=this.text.split("\n").filter(function(e){return/\[\d+:\d+(\.\d+)?\]/g.test(e)}).map(function(e){var t=/\[\d+:\d+(\.\d+)?\]/g.exec(e)[0].replace(/\[|\]/g,"").split(/:/),o=60*parseFloat(t[0])+parseFloat(t[1]);return{time:parseFloat(o),content:e.split("]")[1]}}))}},ready:function(){var e=this;this.$http.get(this.url).then(function(t){e.text=t.data;var o=document.createElement("ul");o.className="t-player-lrc-panel",e.textToArray().forEach(function(e,t){o.innerHTML+="<li id='time_"+t+"'>"+e.content+"</li>"}),document.querySelector("#lrc").appendChild(o),e.tPlayerSongLrc=document.querySelector(".lrc-panel")},function(e){setLrcText(null)})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"progressBar"}},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=" <audio v-el:audio preload=metadata :src=getSrc()></audio> "},function(e,t){e.exports=" <div id=lrc> </div> <div id=player> <player-panel></player-panel> <span class=lrc-panel></span> </div> "},function(e,t){e.exports=" <progress-bar v-el:bar></progress-bar> <div id=jounery-player-panel> <button @click=play>player</button> <button @click=pause>pause</button> </div> <audio-wrap v-el:audio @timeupdate=timeUpdate></audio-wrap> "},function(e,t){e.exports=" <div id=progress_bar> </div> "},function(e,t,o){var r,n;r=o(2),n=o(9),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var r,n;o(6),r=o(3),n=o(10),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,o){var r,n;o(7),r=o(4),n=o(11),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)}]);
//# sourceMappingURL=app.eb3fdbc44f9ae316059a.js.map
