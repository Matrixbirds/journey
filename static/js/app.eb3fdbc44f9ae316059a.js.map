{"version":3,"sources":["webpack:///static/js/app.eb3fdbc44f9ae316059a.js","webpack:///./src/main.js","webpack:///./src/components/ProgressBar.vue","webpack:///AudioWrap.vue","webpack:///Player.vue","webpack:///PlayerPanel.vue","webpack:///ProgressBar.vue","webpack:///./src/components/AudioWrap.vue?6c76","webpack:///./src/components/Player.vue?5b7b","webpack:///./src/components/PlayerPanel.vue?76be","webpack:///./src/components/ProgressBar.vue?fe4a","webpack:///./src/components/AudioWrap.vue","webpack:///./src/components/Player.vue","webpack:///./src/components/PlayerPanel.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_Player","_Player2","window","Vue","use","el","components","Player","__vue_script__","__vue_template__","options","template","Object","defineProperty","value","name","data","source_url","playing","methods","setSrc","this","getSrc","watch","state","$els","audio","play","pause","_ProgressBar","_ProgressBar2","_PlayerPanel","_PlayerPanel2","ProgressBar","PlayerPanel","messages","_AudioWrap","_AudioWrap2","url","text","textArray","tPlayerSongLrc","AudioWrap","timeUpdate","time","currentTime","percent_time","duration","bar","style","width","toFixed","current","document","querySelector","className","replace","songArray","length","i","j","parseFloat","console","log","innerText","content","textToArray","split","filter","e","test","map","a","exec","res","ready","_this","$http","get","then","successResponse","ul","createElement","forEach","innerHTML","appendChild","failureResponse","setLrcText"],"mappings":"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","file":"static/js/app.eb3fdbc44f9ae316059a.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(17);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _Player = __webpack_require__(14);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\twindow.Vue = _vue2.default;\n\t_vue2.default.use(__webpack_require__(16));\n\t\n\tnew _vue2.default({\n\t  el: 'body',\n\t  components: {\n\t    Player: _Player2.default\n\t  }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(8)\n\t__vue_script__ = __webpack_require__(5)\n\t__vue_template__ = __webpack_require__(12)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'audioWrap',\n\t  data: function data() {\n\t    return {\n\t      source_url: 'http://o9pdl8on4.bkt.clouddn.com/%E3%83%A2%E3%82%AB-%E9%8E%96%E9%82%A3.mp3',\n\t      playing: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    setSrc: function setSrc(source_url) {\n\t      this.source_url = source_url;\n\t    },\n\t    getSrc: function getSrc() {\n\t      return this.source_url;\n\t    }\n\t  },\n\t  watch: {\n\t    playing: function playing(state) {\n\t      if (state) this.$els.audio.play();else this.$els.audio.pause();\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _ProgressBar = __webpack_require__(1);\n\t\n\tvar _ProgressBar2 = _interopRequireDefault(_ProgressBar);\n\t\n\tvar _PlayerPanel = __webpack_require__(15);\n\t\n\tvar _PlayerPanel2 = _interopRequireDefault(_PlayerPanel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'Player',\n\t  components: {\n\t    ProgressBar: _ProgressBar2.default,\n\t    PlayerPanel: _PlayerPanel2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      messages: 'Hello Player'\n\t    };\n\t  }\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _ProgressBar = __webpack_require__(1);\n\t\n\tvar _ProgressBar2 = _interopRequireDefault(_ProgressBar);\n\t\n\tvar _AudioWrap = __webpack_require__(13);\n\t\n\tvar _AudioWrap2 = _interopRequireDefault(_AudioWrap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'jouneryPlayerPanel',\n\t  data: function data() {\n\t    return {\n\t      state: false,\n\t      url: '/static/song.lrc',\n\t      text: null,\n\t      textArray: null,\n\t      tPlayerSongLrc: null\n\t    };\n\t  },\n\t\n\t  components: {\n\t    ProgressBar: _ProgressBar2.default,\n\t    AudioWrap: _AudioWrap2.default\n\t  },\n\t  methods: {\n\t    play: function play() {\n\t      this.$els.audio.play();\n\t    },\n\t    pause: function pause() {\n\t      this.$els.audio.pause();\n\t    },\n\t    timeUpdate: function timeUpdate() {\n\t      var time = this.$els.audio.currentTime;\n\t      var percent_time = time / this.$els.audio.duration * 100;\n\t      this.$els.bar.style.width = percent_time.toFixed(2) + '%';\n\t      var current = document.querySelector('.highlight');\n\t      if (current) current.className = current.className.replace(/highlight/, '');\n\t      var songArray = this.textArray;\n\t      var length = this.textArray.length;\n\t\n\t      for (var i = 0, j = 1; j < length; i++, j++) {\n\t        if (songArray[i].time <= parseFloat(time.toFixed(3)) && parseFloat(time.toFixed(3)) <= songArray[j].time) {\n\t          document.querySelector('#time_' + i).className = 'highlight';\n\t          console.log(this.tPlayerSongLrc);\n\t          this.tPlayerSongLrc.innerText = songArray[i].content;\n\t        }\n\t      }\n\t    },\n\t    textToArray: function textToArray() {\n\t      return this.textArray || (this.textArray = this.text.split(\"\\n\").filter(function (e) {\n\t        return (/\\[\\d+:\\d+(\\.\\d+)?\\]/g.test(e)\n\t        );\n\t      }).map(function (e) {\n\t        var a = /\\[\\d+:\\d+(\\.\\d+)?\\]/g.exec(e)[0].replace(/\\[|\\]/g, \"\").split(/:/);\n\t        var res = parseFloat(a[0]) * 60 + parseFloat(a[1]);\n\t        return { time: parseFloat(res), content: e.split(\"]\")[1] };\n\t      }));\n\t    }\n\t  },\n\t  ready: function ready() {\n\t    var _this = this;\n\t\n\t    this.$http.get(this.url).then(function (successResponse) {\n\t      _this.text = successResponse.data;\n\t      var ul = document.createElement('ul');\n\t      ul.className = 't-player-lrc-panel';\n\t      _this.textToArray().forEach(function (e, i) {\n\t        ul.innerHTML += '<li id=\\'time_' + i + '\\'>' + e.content + '</li>';\n\t      });\n\t      document.querySelector('#lrc').appendChild(ul);\n\t      _this.tPlayerSongLrc = document.querySelector('.lrc-panel');\n\t    }, function (failureResponse) {\n\t      setLrcText(null);\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'progressBar'\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <audio v-el:audio preload=metadata :src=getSrc()></audio> \";\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=lrc> </div> <div id=player> <player-panel></player-panel> <span class=lrc-panel></span> </div> \";\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <progress-bar v-el:bar></progress-bar> <div id=jounery-player-panel> <button @click=play>player</button> <button @click=pause>pause</button> </div> <audio-wrap v-el:audio @timeupdate=timeUpdate></audio-wrap> \";\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=progress_bar> </div> \";\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(2)\n\t__vue_template__ = __webpack_require__(9)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(6)\n\t__vue_script__ = __webpack_require__(3)\n\t__vue_template__ = __webpack_require__(10)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(7)\n\t__vue_script__ = __webpack_require__(4)\n\t__vue_template__ = __webpack_require__(11)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.eb3fdbc44f9ae316059a.js\n **/","import Vue from 'vue'\n\nimport Player from './components/Player'\n\n\nwindow.Vue = Vue;\nVue.use(require('vue-resource'));\n/* eslint-disable no-new */\nnew Vue({\n  el: 'body',\n  components: { \n    Player\n  }\n})\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./ProgressBar.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./ProgressBar.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./ProgressBar.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ProgressBar.vue\n ** module id = 1\n ** module chunks = 1\n **/","<template>\n  <audio v-el:audio preload=\"metadata\" :src=\"getSrc()\"></audio>\n</template>\n\n<script>\n  export default {\n    name: 'audioWrap',\n    data() {\n      return {\n        source_url: 'http://o9pdl8on4.bkt.clouddn.com/%E3%83%A2%E3%82%AB-%E9%8E%96%E9%82%A3.mp3',\n        playing: false\n      }\n    },\n    methods: {\n      setSrc: function(source_url) {\n        this.source_url = source_url;\n      },\n      getSrc: function() {\n        return this.source_url;\n      }\n    },\n    watch: {\n      playing(state) {\n        if (state)\n          this.$els.audio.play();\n        else\n          this.$els.audio.pause();\n     }\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** AudioWrap.vue?63484f94\n **/","<template>\n  <div id=\"lrc\">\n  </div>\n  <div id=\"player\">\n    <player-panel></player-panel>\n    <span class='lrc-panel'></span>\n  </div>\n</template>\n\n<script>\n  import ProgressBar from './ProgressBar';\n  import PlayerPanel from './PlayerPanel';\n  export default {\n    name: 'Player',\n    components: {\n      ProgressBar, \n      PlayerPanel\n    },\n    data() {\n      return {\n        messages: 'Hello Player'\n      }\n    }\n  }\n</script>\n\n<style>\n  #player {\n    position: absolute;\n    height: 80px;\n    line-height: 80px;\n    background: navajowhite;\n    bottom: 0;\n    width: 100%;\n  }\n  body {\n    margin: 0;\n  }\n\n  .t-player-lrc-panel {\n    padding-left: 0px;\n  }\n\n  .lrc-panel {\n    width: 70%;\n  }\n\n  .highlight {\n    color: red;\n  }\n</style>\n\n\n/** WEBPACK FOOTER **\n ** Player.vue?4040d6e1\n **/","<template>\n  <progress-bar v-el:bar></progress-bar>\n  <div id=\"jounery-player-panel\">\n    <button @click='play'>player</button>\n    <button @click='pause'>pause</button>\n  </div>\n  <audio-wrap v-el:audio @timeupdate=\"timeUpdate\"></audio-wrap>\n</template>\n\n<script>\n  import ProgressBar from './ProgressBar';\n  import AudioWrap from './AudioWrap';\n  \n  export default {\n    name: 'jouneryPlayerPanel',\n    data() {\n      return {\n        state: false,\n        url: '/static/song.lrc',\n        text: null,\n        textArray: null,\n        tPlayerSongLrc: null\n      }\n    },\n    components: {\n      ProgressBar,\n      AudioWrap\n    },\n    methods: {\n      play() {\n        this.$els.audio.play();\n      },\n      pause() {\n        this.$els.audio.pause();\n      },\n      timeUpdate() {\n        const time = this.$els.audio.currentTime;\n        let percent_time =  (time / this.$els.audio.duration) * 100;\n        this.$els.bar.style.width = percent_time.toFixed(2) + '%';\n        const current = document.querySelector('.highlight');\n        if (current)\n          current.className = current.className.replace(/highlight/, '');\n          const [songArray, length] = [this.textArray, this.textArray.length];\n          for (let i = 0, j = 1; j < length; i++, j++) {\n            if (songArray[i].time <= parseFloat(time.toFixed(3)) &&\n              parseFloat(time.toFixed(3)) <= songArray[j].time) {\n              document.querySelector(`#time_${i}`).className = 'highlight';\n              console.log(this.tPlayerSongLrc);\n              this.tPlayerSongLrc.innerText = songArray[i].content;\n            }\n          }\n      },\n      textToArray() {\n        return this.textArray || (this.textArray = this.text.split(\"\\n\")\n        .filter((e) => /\\[\\d+:\\d+(\\.\\d+)?\\]/g.test(e))\n        .map((e) => {\n          const a = /\\[\\d+:\\d+(\\.\\d+)?\\]/g.exec(e)[0].replace(/\\[|\\]/g, \"\").split(/:/);\n          const res = parseFloat(a[0])  * 60 + parseFloat(a[1]);\n          return { time: parseFloat(res), content: e.split(\"]\")[1]};\n        }));\n      }\n    },\n    ready: function() {\n      this.$http.get(this.url)\n              .then((successResponse) => {\n                this.text = successResponse.data;\n                const ul = document.createElement('ul');\n                ul.className = 't-player-lrc-panel';\n                this.textToArray().forEach((e, i) => {\n                  ul.innerHTML += `<li id='time_${i}'>${e.content}</li>`;\n                });\n                document.querySelector('#lrc').appendChild(ul);\n                this.tPlayerSongLrc = document.querySelector('.lrc-panel');\n              }, (failureResponse) => {\n                // TODO: handle Erorr;\n                setLrcText(null);\n              })\n    }\n  }\n</script>\n\n<style>\n  #jounery-player-panel {\n    float: left;\n    width: 20%;\n  }\n</style>\n\n\n/** WEBPACK FOOTER **\n ** PlayerPanel.vue?606835c0\n **/","<template>\n  <div id=\"progress_bar\">\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'progressBar'\n  }\n</script>\n\n<style>\n  #progress_bar {\n    height: 2px;\n    width: 100%;\n    background: black;\n  }\n</style>\n\n\n/** WEBPACK FOOTER **\n ** ProgressBar.vue?97c5d59c\n **/","module.exports = \" <audio v-el:audio preload=metadata :src=getSrc()></audio> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/AudioWrap.vue\n ** module id = 9\n ** module chunks = 1\n **/","module.exports = \" <div id=lrc> </div> <div id=player> <player-panel></player-panel> <span class=lrc-panel></span> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Player.vue\n ** module id = 10\n ** module chunks = 1\n **/","module.exports = \" <progress-bar v-el:bar></progress-bar> <div id=jounery-player-panel> <button @click=play>player</button> <button @click=pause>pause</button> </div> <audio-wrap v-el:audio @timeupdate=timeUpdate></audio-wrap> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PlayerPanel.vue\n ** module id = 11\n ** module chunks = 1\n **/","module.exports = \" <div id=progress_bar> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProgressBar.vue\n ** module id = 12\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./AudioWrap.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./AudioWrap.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/AudioWrap.vue\n ** module id = 13\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Player.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Player.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Player.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Player.vue\n ** module id = 14\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./PlayerPanel.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./PlayerPanel.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./PlayerPanel.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/PlayerPanel.vue\n ** module id = 15\n ** module chunks = 1\n **/"],"sourceRoot":""}